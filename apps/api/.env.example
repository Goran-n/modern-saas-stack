# Kibly API Environment Variables
# Note: These values should be managed through Doppler in production
# Run with: doppler run -- bun dev

# Server Configuration
PORT=3000
NODE_ENV=development

# Database Configuration (Required)
DATABASE_URL="postgresql://user:password@localhost:5432/kibly"

# Authentication/JWT Configuration (Required)
JWT_KEY="your-jwt-key-here"
JWT_ISSUER="https://your-auth-issuer.com"
JWT_SECRET="your-jwt-secret-here"

# AWS S3 Storage Configuration (Required)
# These MUST be configured in Doppler for the API to start
AWS_ACCESS_KEY_ID="your-aws-access-key-id"
AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
AWS_REGION="us-east-1"
S3_BUCKET="kibly-files"
# S3_ENDPOINT="https://s3.amazonaws.com"  # Optional: For S3-compatible services

# Redis Configuration
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_USER=""
REDIS_PASSWORD=""
REDIS_TLS=false

# Xero OAuth Configuration (Optional)
XERO_CLIENT_ID="your-xero-client-id"
XERO_CLIENT_SECRET="your-xero-client-secret"
XERO_REDIRECT_URI="http://localhost:5173/integrations/oauth/callback"

# Twilio WhatsApp Configuration (Optional)
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_WHATSAPP_NUMBER="whatsapp:+14155238886"
TWILIO_WEBHOOK_URL="https://your-domain.com/webhooks/twilio/whatsapp"

# Logging Configuration
LOG_LEVEL="info"

# CORS Configuration
CORS_ORIGIN="http://localhost:5173,http://localhost:3000"
CORS_CREDENTIALS=true

# Portkey AI Gateway Configuration
# Default values are set in config.ts - override in Doppler if needed
# PORTKEY_API_KEY="J72HF+PznENJaQA6xqkaB4zsa51u"
# PORTKEY_VIRTUAL_KEY="anthropic-virtu-de63f7"
AI_DEFAULT_MODEL="claude-3-5-sonnet-20240620"
AI_EMBEDDING_MODEL="text-embedding-3-small"
AI_MAX_TOKENS=2000
AI_TEMPERATURE=0.7

# Orchestration Configuration
ORCHESTRATION_MAX_CONTEXT_MESSAGES=20
ORCHESTRATION_CONTEXT_TTL_SECONDS=3600
ORCHESTRATION_ENABLE_STREAMING=false