{
  "id": "9f04b122-0bfb-4563-aa72-f44da924e5c2",
  "prevId": "5ee10e1c-c044-4d02-b112-2b3f773385f1",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_type": {
          "name": "account_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "account_subtype": {
          "name": "account_subtype",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "account_class": {
          "name": "account_class",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "parent_account_id": {
          "name": "parent_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hierarchy_level": {
          "name": "hierarchy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "hierarchy_path": {
          "name": "hierarchy_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_parent": {
          "name": "is_parent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "default_tax_code": {
          "name": "default_tax_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_type": {
          "name": "tax_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_locked": {
          "name": "tax_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_system_account": {
          "name": "is_system_account",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_bank_account": {
          "name": "is_bank_account",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "bank_account_type": {
          "name": "bank_account_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "enable_payments_to_account": {
          "name": "enable_payments_to_account",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "show_in_expense_claims": {
          "name": "show_in_expense_claims",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "add_to_watchlist": {
          "name": "add_to_watchlist",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reporting_code": {
          "name": "reporting_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "reporting_category": {
          "name": "reporting_category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_from_reports": {
          "name": "exclude_from_reports",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "category_keywords": {
          "name": "category_keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "typical_vendors": {
          "name": "typical_vendors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "spending_patterns": {
          "name": "spending_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "provider_account_ids": {
          "name": "provider_account_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "provider_sync_data": {
          "name": "provider_sync_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "transaction_count": {
          "name": "transaction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_used_date": {
          "name": "last_used_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_debits": {
          "name": "total_debits",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_credits": {
          "name": "total_credits",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "budget_tracking": {
          "name": "budget_tracking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "budget_owner": {
          "name": "budget_owner",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'system'"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "unique_account_code": {
          "name": "unique_account_code",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_provider_account": {
          "name": "unique_provider_account",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider_account_ids",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_tenant_type": {
          "name": "idx_accounts_tenant_type",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_parent": {
          "name": "idx_accounts_parent",
          "columns": [
            {
              "expression": "parent_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_active": {
          "name": "idx_accounts_active",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_accounts_hierarchy": {
          "name": "idx_accounts_hierarchy",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "hierarchy_path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "accounts_tenant_id_tenants_id_fk": {
          "name": "accounts_tenant_id_tenants_id_fk",
          "tableFrom": "accounts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bank_statements": {
      "name": "bank_statements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "import_source": {
          "name": "import_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "import_batch_id": {
          "name": "import_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "institution_name": {
          "name": "institution_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "account_identifier": {
          "name": "account_identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "account_currency": {
          "name": "account_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "transaction_date": {
          "name": "transaction_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "posted_date": {
          "name": "posted_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "balance": {
          "name": "balance",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_category": {
          "name": "bank_category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "check_number": {
          "name": "check_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_name": {
          "name": "merchant_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_clean_name": {
          "name": "merchant_clean_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_category_code": {
          "name": "merchant_category_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "reference_number": {
          "name": "reference_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "match_status": {
          "name": "match_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'unmatched'"
        },
        "matched_transaction_id": {
          "name": "matched_transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "match_confidence": {
          "name": "match_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "matched_at": {
          "name": "matched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "matched_by": {
          "name": "matched_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_account_id": {
          "name": "suggested_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_supplier_id": {
          "name": "suggested_supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category_confidence": {
          "name": "category_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_extraction": {
          "name": "entity_extraction",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "dedup_key": {
          "name": "dedup_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_duplicate": {
          "name": "is_duplicate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "duplicate_of_id": {
          "name": "duplicate_of_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_pattern": {
          "name": "transaction_pattern",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "recurrence_frequency": {
          "name": "recurrence_frequency",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "expected_next_date": {
          "name": "expected_next_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "parsing_metadata": {
          "name": "parsing_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "processing_errors": {
          "name": "processing_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "requires_manual_review": {
          "name": "requires_manual_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "review_reason": {
          "name": "review_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "file_line_number": {
          "name": "file_line_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_bank_statements_tenant_date": {
          "name": "idx_bank_statements_tenant_date",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "transaction_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bank_statements_unmatched": {
          "name": "idx_bank_statements_unmatched",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "match_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bank_statements_account": {
          "name": "idx_bank_statements_account",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bank_statements_amount": {
          "name": "idx_bank_statements_amount",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "amount",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bank_statements_merchant": {
          "name": "idx_bank_statements_merchant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "merchant_clean_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bank_statements_duplicate": {
          "name": "idx_bank_statements_duplicate",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_duplicate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bank_statements_review": {
          "name": "idx_bank_statements_review",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "requires_manual_review",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_bank_transaction": {
          "name": "unique_bank_transaction",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "transaction_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "amount",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "dedup_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bank_statements_tenant_id_tenants_id_fk": {
          "name": "bank_statements_tenant_id_tenants_id_fk",
          "tableFrom": "bank_statements",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bank_statements_integration_id_integrations_id_fk": {
          "name": "bank_statements_integration_id_integrations_id_fk",
          "tableFrom": "bank_statements",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bank_statements_matched_transaction_id_transactions_id_fk": {
          "name": "bank_statements_matched_transaction_id_transactions_id_fk",
          "tableFrom": "bank_statements",
          "tableTo": "transactions",
          "columnsFrom": [
            "matched_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bank_statements_suggested_account_id_accounts_id_fk": {
          "name": "bank_statements_suggested_account_id_accounts_id_fk",
          "tableFrom": "bank_statements",
          "tableTo": "accounts",
          "columnsFrom": [
            "suggested_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bank_statements_suggested_supplier_id_suppliers_id_fk": {
          "name": "bank_statements_suggested_supplier_id_suppliers_id_fk",
          "tableFrom": "bank_statements",
          "tableTo": "suppliers",
          "columnsFrom": [
            "suggested_supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.file_versions": {
      "name": "file_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "storage_key": {
          "name": "storage_key",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "sha256_hash": {
          "name": "sha256_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_file_versions_file": {
          "name": "idx_file_versions_file",
          "columns": [
            {
              "expression": "file_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "file_versions_file_id_files_id_fk": {
          "name": "file_versions_file_id_files_id_fk",
          "tableFrom": "file_versions",
          "tableTo": "files",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "file_versions_changed_by_users_id_fk": {
          "name": "file_versions_changed_by_users_id_fk",
          "tableFrom": "file_versions",
          "tableTo": "users",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_file_version": {
          "name": "unique_file_version",
          "nullsNotDistinct": false,
          "columns": [
            "file_id",
            "version_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.files": {
      "name": "files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "filename": {
          "name": "filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "original_filename": {
          "name": "original_filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "sha256_hash": {
          "name": "sha256_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "storage_key": {
          "name": "storage_key",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "storage_bucket": {
          "name": "storage_bucket",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "file_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_path": {
          "name": "source_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_modified_at": {
          "name": "source_modified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "source_metadata": {
          "name": "source_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "file_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'uploaded'"
        },
        "review_status": {
          "name": "review_status",
          "type": "review_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_reviewed'"
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_duplicate": {
          "name": "is_duplicate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "duplicate_of": {
          "name": "duplicate_of",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_text": {
          "name": "extracted_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "virus_scanned": {
          "name": "virus_scanned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "virus_scan_result": {
          "name": "virus_scan_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        }
      },
      "indexes": {
        "idx_files_tenant": {
          "name": "idx_files_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_hash": {
          "name": "idx_files_hash",
          "columns": [
            {
              "expression": "sha256_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_status": {
          "name": "idx_files_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_source": {
          "name": "idx_files_source",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_duplicate": {
          "name": "idx_files_duplicate",
          "columns": [
            {
              "expression": "duplicate_of",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_integration": {
          "name": "idx_files_integration",
          "columns": [
            {
              "expression": "integration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_tenant_status": {
          "name": "idx_files_tenant_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_files_tenant_review": {
          "name": "idx_files_tenant_review",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "review_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "files_tenant_id_tenants_id_fk": {
          "name": "files_tenant_id_tenants_id_fk",
          "tableFrom": "files",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "files_integration_id_integrations_id_fk": {
          "name": "files_integration_id_integrations_id_fk",
          "tableFrom": "files",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "files_duplicate_of_files_id_fk": {
          "name": "files_duplicate_of_files_id_fk",
          "tableFrom": "files",
          "tableTo": "files",
          "columnsFrom": [
            "duplicate_of"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "files_created_by_users_id_fk": {
          "name": "files_created_by_users_id_fk",
          "tableFrom": "files",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "files_updated_by_users_id_fk": {
          "name": "files_updated_by_users_id_fk",
          "tableFrom": "files",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_source_file": {
          "name": "unique_source_file",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "source",
            "source_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.import_batches": {
      "name": "import_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "batch_type": {
          "name": "batch_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "import_source": {
          "name": "import_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_hash": {
          "name": "file_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "total_records": {
          "name": "total_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "processed_records": {
          "name": "processed_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failed_records": {
          "name": "failed_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "duplicate_records": {
          "name": "duplicate_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "import_config": {
          "name": "import_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "import_results": {
          "name": "import_results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "error_log": {
          "name": "error_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "imported_by": {
          "name": "imported_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_import_batches_tenant": {
          "name": "idx_import_batches_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_import_batches_status": {
          "name": "idx_import_batches_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_import_batches_type": {
          "name": "idx_import_batches_type",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "batch_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "import_batches_tenant_id_tenants_id_fk": {
          "name": "import_batches_tenant_id_tenants_id_fk",
          "tableFrom": "import_batches",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "import_batches_integration_id_integrations_id_fk": {
          "name": "import_batches_integration_id_integrations_id_fk",
          "tableFrom": "import_batches",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "import_batches_imported_by_users_id_fk": {
          "name": "import_batches_imported_by_users_id_fk",
          "tableFrom": "import_batches",
          "tableTo": "users",
          "columnsFrom": [
            "imported_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.integration_sync_logs": {
      "name": "integration_sync_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sync_type": {
          "name": "sync_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "records_processed": {
          "name": "records_processed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "errors": {
          "name": "errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "warnings": {
          "name": "warnings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "integration_sync_logs_integration_id_integrations_id_fk": {
          "name": "integration_sync_logs_integration_id_integrations_id_fk",
          "tableFrom": "integration_sync_logs",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.integrations": {
      "name": "integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_type": {
          "name": "integration_type",
          "type": "integration_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "auth_data": {
          "name": "auth_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "status": {
          "name": "status",
          "type": "integration_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'setup_pending'"
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_scheduled_sync": {
          "name": "next_scheduled_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_health": {
          "name": "sync_health",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "integrations_tenant_id_tenants_id_fk": {
          "name": "integrations_tenant_id_tenants_id_fk",
          "tableFrom": "integrations",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invoices": {
      "name": "invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider_invoice_id": {
          "name": "provider_invoice_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_type": {
          "name": "invoice_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_subtype": {
          "name": "invoice_subtype",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "reference": {
          "name": "reference",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "repeating_invoice_id": {
          "name": "repeating_invoice_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "branding_theme_id": {
          "name": "branding_theme_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_url": {
          "name": "invoice_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_date": {
          "name": "invoice_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "service_date": {
          "name": "service_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "period_start_date": {
          "name": "period_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "period_end_date": {
          "name": "period_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_name": {
          "name": "supplier_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal_amount": {
          "name": "subtotal_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "discount_percentage": {
          "name": "discount_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(18, 10)",
          "primaryKey": false,
          "notNull": false
        },
        "base_currency_code": {
          "name": "base_currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "base_total_amount": {
          "name": "base_total_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_paid": {
          "name": "amount_paid",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "amount_credited": {
          "name": "amount_credited",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "amount_due": {
          "name": "amount_due",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "fully_paid": {
          "name": "fully_paid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "expected_payment_date": {
          "name": "expected_payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "planned_payment_date": {
          "name": "planned_payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "line_items": {
          "name": "line_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "line_items_count": {
          "name": "line_items_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "tax_inclusive": {
          "name": "tax_inclusive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "tax_calculation_type": {
          "name": "tax_calculation_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "line_amount_types": {
          "name": "line_amount_types",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Exclusive'"
        },
        "tax_details": {
          "name": "tax_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "approval_status": {
          "name": "approval_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approval_notes": {
          "name": "approval_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "has_attachments": {
          "name": "has_attachments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "attachment_count": {
          "name": "attachment_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "attachment_ids": {
          "name": "attachment_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_entities": {
          "name": "extracted_entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "ocr_processed": {
          "name": "ocr_processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ocr_confidence": {
          "name": "ocr_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_data": {
          "name": "provider_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "provider_updated_at": {
          "name": "provider_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "needs_review": {
          "name": "needs_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processing_errors": {
          "name": "processing_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "imported_at": {
          "name": "imported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_version": {
          "name": "sync_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_invoices_tenant_date": {
          "name": "idx_invoices_tenant_date",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "invoice_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoices_tenant_supplier": {
          "name": "idx_invoices_tenant_supplier",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "supplier_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoices_tenant_status": {
          "name": "idx_invoices_tenant_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoices_tenant_due": {
          "name": "idx_invoices_tenant_due",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoices_needs_review": {
          "name": "idx_invoices_needs_review",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "needs_review",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_provider_invoice": {
          "name": "unique_provider_invoice",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "integration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider_invoice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "invoices_tenant_id_tenants_id_fk": {
          "name": "invoices_tenant_id_tenants_id_fk",
          "tableFrom": "invoices",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoices_integration_id_integrations_id_fk": {
          "name": "invoices_integration_id_integrations_id_fk",
          "tableFrom": "invoices",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_supplier_id_suppliers_id_fk": {
          "name": "invoices_supplier_id_suppliers_id_fk",
          "tableFrom": "invoices",
          "tableTo": "suppliers",
          "columnsFrom": [
            "supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.manual_journals": {
      "name": "manual_journals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider_journal_id": {
          "name": "provider_journal_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "journal_number": {
          "name": "journal_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "journal_date": {
          "name": "journal_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "narration": {
          "name": "narration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "journal_lines": {
          "name": "journal_lines",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "total_debits": {
          "name": "total_debits",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_credits": {
          "name": "total_credits",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "currency_code": {
          "name": "currency_code",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(18, 10)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_data": {
          "name": "provider_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "has_attachments": {
          "name": "has_attachments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "attachment_ids": {
          "name": "attachment_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "posted_date": {
          "name": "posted_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_journals_tenant_date": {
          "name": "idx_journals_tenant_date",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "journal_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_journals_tenant_status": {
          "name": "idx_journals_tenant_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_journals_tenant_number": {
          "name": "idx_journals_tenant_number",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "journal_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_provider_journal": {
          "name": "unique_provider_journal",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "integration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider_journal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "manual_journals_tenant_id_tenants_id_fk": {
          "name": "manual_journals_tenant_id_tenants_id_fk",
          "tableFrom": "manual_journals",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "manual_journals_integration_id_integrations_id_fk": {
          "name": "manual_journals_integration_id_integrations_id_fk",
          "tableFrom": "manual_journals",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "manual_journals_posted_by_users_id_fk": {
          "name": "manual_journals_posted_by_users_id_fk",
          "tableFrom": "manual_journals",
          "tableTo": "users",
          "columnsFrom": [
            "posted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_journal_balance": {
          "name": "check_journal_balance",
          "value": "\"manual_journals\".\"total_debits\" = \"manual_journals\".\"total_credits\""
        }
      },
      "isRLSEnabled": false
    },
    "public.reconciliations": {
      "name": "reconciliations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bank_statement_id": {
          "name": "bank_statement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "match_type": {
          "name": "match_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "match_confidence": {
          "name": "match_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "match_amount": {
          "name": "match_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "is_split": {
          "name": "is_split",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "split_group_id": {
          "name": "split_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "match_method": {
          "name": "match_method",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "match_rules": {
          "name": "match_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "user_confirmed": {
          "name": "user_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confirmed_by": {
          "name": "confirmed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "override_reason": {
          "name": "override_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_reconciliations_statement": {
          "name": "idx_reconciliations_statement",
          "columns": [
            {
              "expression": "bank_statement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reconciliations_transaction": {
          "name": "idx_reconciliations_transaction",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reconciliations_split_group": {
          "name": "idx_reconciliations_split_group",
          "columns": [
            {
              "expression": "split_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reconciliations_tenant_date": {
          "name": "idx_reconciliations_tenant_date",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_statement_reconciliation": {
          "name": "unique_statement_reconciliation",
          "columns": [
            {
              "expression": "bank_statement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reconciliations_tenant_id_tenants_id_fk": {
          "name": "reconciliations_tenant_id_tenants_id_fk",
          "tableFrom": "reconciliations",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reconciliations_bank_statement_id_bank_statements_id_fk": {
          "name": "reconciliations_bank_statement_id_bank_statements_id_fk",
          "tableFrom": "reconciliations",
          "tableTo": "bank_statements",
          "columnsFrom": [
            "bank_statement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reconciliations_transaction_id_transactions_id_fk": {
          "name": "reconciliations_transaction_id_transactions_id_fk",
          "tableFrom": "reconciliations",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reconciliations_confirmed_by_users_id_fk": {
          "name": "reconciliations_confirmed_by_users_id_fk",
          "tableFrom": "reconciliations",
          "tableTo": "users",
          "columnsFrom": [
            "confirmed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.suppliers": {
      "name": "suppliers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "legal_name": {
          "name": "legal_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "trading_names": {
          "name": "trading_names",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "external_ids": {
          "name": "external_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "company_number": {
          "name": "company_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "primary_email": {
          "name": "primary_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "additional_emails": {
          "name": "additional_emails",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "primary_phone": {
          "name": "primary_phone",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "additional_phones": {
          "name": "additional_phones",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "address_line1": {
          "name": "address_line1",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "address_line2": {
          "name": "address_line2",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "address_line3": {
          "name": "address_line3",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "address_line4": {
          "name": "address_line4",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "country_name": {
          "name": "country_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_addresses": {
          "name": "shipping_addresses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "billing_addresses": {
          "name": "billing_addresses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "tax_number": {
          "name": "tax_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_number_type": {
          "name": "tax_number_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_tax_numbers": {
          "name": "secondary_tax_numbers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "tax_exempt": {
          "name": "tax_exempt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "tax_exemption_reason": {
          "name": "tax_exemption_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "default_tax_type_sales": {
          "name": "default_tax_type_sales",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "default_tax_type_purchases": {
          "name": "default_tax_type_purchases",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "default_currency": {
          "name": "default_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_account_name": {
          "name": "bank_account_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_account_number": {
          "name": "bank_account_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_account_type": {
          "name": "bank_account_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_name": {
          "name": "bank_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_branch": {
          "name": "bank_branch",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_swift_code": {
          "name": "bank_swift_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_routing_number": {
          "name": "bank_routing_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "additional_bank_accounts": {
          "name": "additional_bank_accounts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "payment_terms_days": {
          "name": "payment_terms_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_type": {
          "name": "payment_terms_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_description": {
          "name": "payment_terms_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credit_limit": {
          "name": "credit_limit",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_type": {
          "name": "supplier_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'supplier'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_individual": {
          "name": "is_individual",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "contact_status": {
          "name": "contact_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'ACTIVE'"
        },
        "provider_ids": {
          "name": "provider_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "provider_sync_data": {
          "name": "provider_sync_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "normalized_name": {
          "name": "normalized_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "name_tokens": {
          "name": "name_tokens",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "industry_code": {
          "name": "industry_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_size": {
          "name": "supplier_size",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "data_quality_score": {
          "name": "data_quality_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "verified_date": {
          "name": "verified_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "verification_source": {
          "name": "verification_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_version": {
          "name": "sync_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_suppliers_tenant_name": {
          "name": "idx_suppliers_tenant_name",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suppliers_normalized": {
          "name": "idx_suppliers_normalized",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "normalized_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suppliers_tax_number": {
          "name": "idx_suppliers_tax_number",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tax_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suppliers_email": {
          "name": "idx_suppliers_email",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "primary_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suppliers_active": {
          "name": "idx_suppliers_active",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suppliers_external_ids": {
          "name": "idx_suppliers_external_ids",
          "columns": [
            {
              "expression": "external_ids",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_suppliers_status": {
          "name": "idx_suppliers_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_provider_supplier": {
          "name": "unique_provider_supplier",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider_ids",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "suppliers_tenant_id_tenants_id_fk": {
          "name": "suppliers_tenant_id_tenants_id_fk",
          "tableFrom": "suppliers",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sync_jobs": {
      "name": "sync_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_type": {
          "name": "job_type",
          "type": "sync_job_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sync_job_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "progress": {
          "name": "progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sync_jobs_status_priority_idx": {
          "name": "sync_jobs_status_priority_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "priority",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sync_jobs_integration_idx": {
          "name": "sync_jobs_integration_idx",
          "columns": [
            {
              "expression": "integration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sync_jobs_tenant_idx": {
          "name": "sync_jobs_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sync_jobs_status_idx": {
          "name": "sync_jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sync_jobs_integration_id_integrations_id_fk": {
          "name": "sync_jobs_integration_id_integrations_id_fk",
          "tableFrom": "sync_jobs",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sync_jobs_tenant_id_tenants_id_fk": {
          "name": "sync_jobs_tenant_id_tenants_id_fk",
          "tableFrom": "sync_jobs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_members": {
      "name": "tenant_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "status": {
          "name": "status",
          "type": "member_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "invited_by": {
          "name": "invited_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invited_email": {
          "name": "invited_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "invitation_token": {
          "name": "invitation_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "invitation_expires_at": {
          "name": "invitation_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_access_at": {
          "name": "last_access_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_members_tenant_id_tenants_id_fk": {
          "name": "tenant_members_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_members",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "tenant_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "subscription": {
          "name": "subscription",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_slug_unique": {
          "name": "tenants_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        },
        "tenants_email_unique": {
          "name": "tenants_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transaction_line_items": {
      "name": "transaction_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expense_account_id": {
          "name": "expense_account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "expense_account_name": {
          "name": "expense_account_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "expense_account_code": {
          "name": "expense_account_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "expense_account_type": {
          "name": "expense_account_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "line_amount": {
          "name": "line_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "line_description": {
          "name": "line_description",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "item_id": {
          "name": "item_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "unit_amount": {
          "name": "unit_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_type": {
          "name": "tax_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_rate": {
          "name": "tax_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_code": {
          "name": "tax_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_tax_inclusive": {
          "name": "is_tax_inclusive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_type": {
          "name": "contact_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_categories": {
          "name": "tracking_categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "line_items_transaction_idx": {
          "name": "line_items_transaction_idx",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "line_items_tenant_account_idx": {
          "name": "line_items_tenant_account_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "expense_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "line_items_contact_idx": {
          "name": "line_items_contact_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transaction_line_items_transaction_id_transactions_id_fk": {
          "name": "transaction_line_items_transaction_id_transactions_id_fk",
          "tableFrom": "transaction_line_items",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_line_items_tenant_id_tenants_id_fk": {
          "name": "transaction_line_items_tenant_id_tenants_id_fk",
          "tableFrom": "transaction_line_items",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider_transaction_id": {
          "name": "provider_transaction_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_type": {
          "name": "provider_type",
          "type": "provider_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_date": {
          "name": "transaction_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "posted_date": {
          "name": "posted_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "base_currency_amount": {
          "name": "base_currency_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "source_account_id": {
          "name": "source_account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_account_name": {
          "name": "source_account_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_account_type": {
          "name": "source_account_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "balance_after": {
          "name": "balance_after",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_fee": {
          "name": "transaction_fee",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "raw_description": {
          "name": "raw_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_reference": {
          "name": "transaction_reference",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_code": {
          "name": "account_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_name": {
          "name": "supplier_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "source_invoice_id": {
          "name": "source_invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "check_number": {
          "name": "check_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "overpayment_id": {
          "name": "overpayment_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "prepayment_id": {
          "name": "prepayment_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "statement_date": {
          "name": "statement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "statement_description": {
          "name": "statement_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "statement_balance": {
          "name": "statement_balance",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_statement_id": {
          "name": "bank_statement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "enriched_description": {
          "name": "enriched_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_name": {
          "name": "merchant_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_category": {
          "name": "merchant_category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_categorized": {
          "name": "auto_categorized",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "category_confidence": {
          "name": "category_confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_account_id": {
          "name": "suggested_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_supplier_id": {
          "name": "suggested_supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_split": {
          "name": "is_split",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "parent_transaction_id": {
          "name": "parent_transaction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "split_count": {
          "name": "split_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "original_currency": {
          "name": "original_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "original_amount": {
          "name": "original_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "exchange_rate_date": {
          "name": "exchange_rate_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "related_document_ids": {
          "name": "related_document_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "attachment_count": {
          "name": "attachment_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "has_receipt": {
          "name": "has_receipt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "needs_review": {
          "name": "needs_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "review_reason": {
          "name": "review_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_reconciled": {
          "name": "is_reconciled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "reconciled_at": {
          "name": "reconciled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reconciled_by": {
          "name": "reconciled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "transaction_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "provider_data": {
          "name": "provider_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "enrichment_status": {
          "name": "enrichment_status",
          "type": "enrichment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "transactions_tenant_date_idx": {
          "name": "transactions_tenant_date_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "transaction_date",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_tenant_status_idx": {
          "name": "transactions_tenant_status_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_integration_sync_idx": {
          "name": "transactions_integration_sync_idx",
          "columns": [
            {
              "expression": "integration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "synced_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_reconciled_idx": {
          "name": "transactions_reconciled_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_reconciled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_supplier_idx": {
          "name": "transactions_supplier_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "supplier_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_account_idx": {
          "name": "transactions_account_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_invoice_idx": {
          "name": "transactions_invoice_idx",
          "columns": [
            {
              "expression": "source_invoice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_needs_review_idx": {
          "name": "transactions_needs_review_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "needs_review",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transactions_tenant_id_tenants_id_fk": {
          "name": "transactions_tenant_id_tenants_id_fk",
          "tableFrom": "transactions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transactions_integration_id_integrations_id_fk": {
          "name": "transactions_integration_id_integrations_id_fk",
          "tableFrom": "transactions",
          "tableTo": "integrations",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "transactions_unique_provider": {
          "name": "transactions_unique_provider",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "integration_id",
            "provider_transaction_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.member_role": {
      "name": "member_role",
      "schema": "public",
      "values": [
        "viewer",
        "member",
        "admin",
        "owner"
      ]
    },
    "public.member_status": {
      "name": "member_status",
      "schema": "public",
      "values": [
        "pending",
        "active",
        "suspended",
        "removed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}