var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import __nuxt_component_2 from"./BPHwrUJ4.js";import"./BGn8T2aB.js";import{_ as _sfc_main$1}from"./rIxWFMco.js";import FileDate from"./kTO7q3pb.js";import FileSize from"./DGtf3NT_.js";import FileBadge from"./Dz2rOXF_.js";import FileErrorAlert from"./Dfp1CywP.js";import CopyButton from"./YOLQlrHt.js";import{u as useFileFormatters}from"./BD-eHdPR.js";import{z as defineComponent,O as createElementBlock,V as createBlock,a5 as createCommentVNode,X as createVNode,W as withCtx,G as unref,P as openBlock,a2 as createBaseVNode,a3 as toDisplayString,L as Fragment,a8 as renderList}from"./BRSJK7Xo.js";import"./B8R4opHw.js";import"./CEfzLdwR.js";import"./B8fQSm5j.js";import"./hXgEKzhh.js";import"./DIbFRL3M.js";import"./LqpTdS2-.js";import"./B0BnaaMQ.js";const _hoisted_1={class:"space-y-6"},_hoisted_2={class:"space-y-3"},_hoisted_3={key:0,class:"bg-primary-50 border border-primary-100 rounded-lg p-4"},_hoisted_4={class:"text-2xl font-bold text-primary-900"},_hoisted_5={class:"grid grid-cols-2 gap-3 text-sm"},_hoisted_6={key:0},_hoisted_7={class:"flex items-center gap-1"},_hoisted_8={class:"font-medium"},_hoisted_9={key:1},_hoisted_10={key:2},_hoisted_11={key:3},_hoisted_12={class:"font-medium"},_hoisted_13={class:"space-y-3 text-sm"},_hoisted_14={class:"flex justify-between"},_hoisted_15={class:"font-medium text-xs"},_hoisted_16={class:"flex justify-between"},_hoisted_17={class:"flex justify-between"},_hoisted_18={class:"font-medium"},_hoisted_19={class:"flex justify-between"},_hoisted_20={class:"flex justify-between"},_hoisted_21={class:"flex items-center justify-between"},_hoisted_22={class:"flex items-center gap-2"},_hoisted_23={class:"space-y-3 text-sm"},_hoisted_24={class:"flex justify-between"},_hoisted_25={class:"font-medium capitalize"},_hoisted_26={class:"flex justify-between"},_hoisted_27={key:0,class:"space-y-2 pt-3 border-t"},_hoisted_28={class:"text-neutral-500"},_hoisted_29={class:"text-right"},_hoisted_30={class:"font-medium"},_hoisted_31={class:"text-xs text-neutral-400"},_hoisted_32={class:"text-center py-6 text-neutral-500"},_sfc_main=defineComponent({__name:"FileInfoPanel",props:{file:{}},emits:["reprocess"],setup(__props){const{formatCurrency,formatFieldName}=useFileFormatters(),getProcessingError=__name(file=>file.metadata?.processingError?file.metadata.processingError:"File processing failed","getProcessingError"),getProcessingErrorDetails=__name(file=>file.metadata?.processingErrorDetails?file.metadata.processingErrorDetails:null,"getProcessingErrorDetails"),getDisplayFields=__name(extractedFields=>{if(!extractedFields)return{};const importantFields=["vendorName","documentNumber","documentDate","totalAmount","subtotalAmount","taxAmount","currency","dueDate"],filtered={};return importantFields.forEach(field=>{extractedFields[field]&&(filtered[field]=extractedFields[field])}),filtered},"getDisplayFields");return(_ctx,_cache)=>{const _component_Icon=__nuxt_component_2;return openBlock(),createElementBlock("div",_hoisted_1,[_ctx.file.processingStatus==="failed"?(openBlock(),createBlock(FileErrorAlert,{key:0,"error-message":getProcessingError(_ctx.file),"error-details":getProcessingErrorDetails(_ctx.file),onRetry:_cache[0]||(_cache[0]=$event=>_ctx.$emit("reprocess"))},null,8,["error-message","error-details"])):createCommentVNode("",!0),_ctx.file.extraction?.extractedFields?(openBlock(),createBlock(unref(_sfc_main$1),{key:1,padding:"md"},{header:withCtx(()=>_cache[1]||(_cache[1]=[createBaseVNode("h4",{class:"text-sm font-medium"},"Document Details",-1)])),default:withCtx(()=>[createBaseVNode("div",_hoisted_2,[_ctx.file.extraction.extractedFields.totalAmount?.value?(openBlock(),createElementBlock("div",_hoisted_3,[_cache[2]||(_cache[2]=createBaseVNode("p",{class:"text-xs font-medium text-primary-700 uppercase tracking-wider mb-1"},"Total Amount",-1)),createBaseVNode("p",_hoisted_4,toDisplayString(unref(formatCurrency)(_ctx.file.extraction.extractedFields.totalAmount.value,_ctx.file.extraction.extractedFields.currency?.value)),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5,[_ctx.file.extraction.extractedFields.documentNumber?.value?(openBlock(),createElementBlock("div",_hoisted_6,[_cache[3]||(_cache[3]=createBaseVNode("p",{class:"text-xs text-neutral-500"},"Document Number",-1)),createBaseVNode("div",_hoisted_7,[createBaseVNode("p",_hoisted_8,toDisplayString(_ctx.file.extraction.extractedFields.documentNumber.value),1),createVNode(CopyButton,{text:_ctx.file.extraction.extractedFields.documentNumber.value,class:"ml-1"},null,8,["text"])])])):createCommentVNode("",!0),_ctx.file.extraction.extractedFields.documentDate?.value?(openBlock(),createElementBlock("div",_hoisted_9,[_cache[4]||(_cache[4]=createBaseVNode("p",{class:"text-xs text-neutral-500"},"Document Date",-1)),createVNode(FileDate,{date:_ctx.file.extraction.extractedFields.documentDate.value,size:"sm",class:"font-medium"},null,8,["date"])])):createCommentVNode("",!0),_ctx.file.extraction.extractedFields.dueDate?.value?(openBlock(),createElementBlock("div",_hoisted_10,[_cache[5]||(_cache[5]=createBaseVNode("p",{class:"text-xs text-neutral-500"},"Due Date",-1)),createVNode(FileDate,{date:_ctx.file.extraction.extractedFields.dueDate.value,size:"sm",class:"font-medium"},null,8,["date"])])):createCommentVNode("",!0),_ctx.file.extraction.extractedFields.vendorName?.value?(openBlock(),createElementBlock("div",_hoisted_11,[_cache[6]||(_cache[6]=createBaseVNode("p",{class:"text-xs text-neutral-500"},"Vendor",-1)),createBaseVNode("p",_hoisted_12,toDisplayString(_ctx.file.extraction.extractedFields.vendorName.value),1)])):createCommentVNode("",!0)])])]),_:1})):createCommentVNode("",!0),createVNode(unref(_sfc_main$1),{padding:"md"},{header:withCtx(()=>_cache[7]||(_cache[7]=[createBaseVNode("h4",{class:"text-sm font-medium"},"File Information",-1)])),default:withCtx(()=>[createBaseVNode("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[_cache[8]||(_cache[8]=createBaseVNode("span",{class:"text-neutral-500"},"Original Name:",-1)),createBaseVNode("span",_hoisted_15,toDisplayString(_ctx.file.fileName),1)]),createBaseVNode("div",_hoisted_16,[_cache[9]||(_cache[9]=createBaseVNode("span",{class:"text-neutral-500"},"Size:",-1)),createVNode(FileSize,{bytes:_ctx.file.size||0,size:"sm",class:"font-medium"},null,8,["bytes"])]),createBaseVNode("div",_hoisted_17,[_cache[10]||(_cache[10]=createBaseVNode("span",{class:"text-neutral-500"},"Type:",-1)),createBaseVNode("span",_hoisted_18,toDisplayString(_ctx.file.mimeType||"Unknown"),1)]),createBaseVNode("div",_hoisted_19,[_cache[11]||(_cache[11]=createBaseVNode("span",{class:"text-neutral-500"},"Uploaded:",-1)),createVNode(FileDate,{date:_ctx.file.createdAt,size:"sm",class:"font-medium"},null,8,["date"])]),createBaseVNode("div",_hoisted_20,[_cache[12]||(_cache[12]=createBaseVNode("span",{class:"text-neutral-500"},"Status:",-1)),createVNode(FileBadge,{type:"status",value:_ctx.file.processingStatus||"completed","status-type":"processing",variant:"soft",size:"xs"},null,8,["value"])])])]),_:1}),_ctx.file.extraction?(openBlock(),createBlock(unref(_sfc_main$1),{key:2,padding:"md"},{header:withCtx(()=>[createBaseVNode("div",_hoisted_21,[_cache[14]||(_cache[14]=createBaseVNode("h4",{class:"text-sm font-medium"},"Extracted Data",-1)),createBaseVNode("div",_hoisted_22,[_cache[13]||(_cache[13]=createBaseVNode("span",{class:"text-xs text-neutral-500"},"Confidence:",-1)),createVNode(FileBadge,{type:"confidence",value:_ctx.file.extraction.overallConfidence,size:"xs"},null,8,["value"])])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_23,[createBaseVNode("div",_hoisted_24,[_cache[15]||(_cache[15]=createBaseVNode("span",{class:"text-neutral-500"},"Document Type:",-1)),createBaseVNode("span",_hoisted_25,toDisplayString(_ctx.file.extraction.documentType),1)]),createBaseVNode("div",_hoisted_26,[_cache[16]||(_cache[16]=createBaseVNode("span",{class:"text-neutral-500"},"Validation:",-1)),createVNode(FileBadge,{type:"status",value:_ctx.file.extraction.validationStatus,"status-type":"validation",variant:"soft",size:"xs"},null,8,["value"])]),_ctx.file.extraction.extractedFields?(openBlock(),createElementBlock("div",_hoisted_27,[_cache[17]||(_cache[17]=createBaseVNode("h5",{class:"text-xs font-medium text-neutral-500 uppercase"},"Key Fields",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(getDisplayFields(_ctx.file.extraction.extractedFields),(field,key)=>(openBlock(),createElementBlock("div",{key,class:"flex justify-between"},[createBaseVNode("span",_hoisted_28,toDisplayString(unref(formatFieldName)(String(key)))+":",1),createBaseVNode("div",_hoisted_29,[createBaseVNode("div",_hoisted_30,toDisplayString(field.value),1),createBaseVNode("div",_hoisted_31,toDisplayString(Math.round(field.confidence))+"%",1)])]))),128))])):createCommentVNode("",!0)])]),_:1})):(openBlock(),createBlock(unref(_sfc_main$1),{key:3,padding:"md"},{header:withCtx(()=>_cache[18]||(_cache[18]=[createBaseVNode("h4",{class:"text-sm font-medium"},"Extracted Data",-1)])),default:withCtx(()=>[createBaseVNode("div",_hoisted_32,[createVNode(_component_Icon,{name:"heroicons:document-magnifying-glass",class:"h-8 w-8 mb-2"}),_cache[19]||(_cache[19]=createBaseVNode("p",{class:"text-sm"},"No extraction data available",-1)),_cache[20]||(_cache[20]=createBaseVNode("p",{class:"text-xs"},"File may still be processing",-1))])]),_:1}))])}}}),FileInfoPanel=Object.assign(_sfc_main,{__name:"MoleculesFileInfoPanel"});export{FileInfoPanel as default};
