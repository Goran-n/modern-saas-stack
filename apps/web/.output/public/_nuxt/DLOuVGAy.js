var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import"./BGn8T2aB.js";import{_ as _sfc_main$2}from"./DIbFRL3M.js";import{_ as _sfc_main$1}from"./CEfzLdwR.js";import{A as AddressForm}from"./CaaFlUxj.js";import{z as defineComponent,O as createElementBlock,a2 as createBaseVNode,V as createBlock,a5 as createCommentVNode,W as withCtx,G as unref,X as createVNode,L as Fragment,a8 as renderList,P as openBlock,a4 as createTextVNode,a3 as toDisplayString}from"./BRSJK7Xo.js";import"./LqpTdS2-.js";import"./B8R4opHw.js";import"./DGo9Esvu.js";import"./Dlem1RG-.js";import"./CKrwGQ3G.js";const _hoisted_1={class:"space-y-6"},_hoisted_2={class:"flex items-center justify-between mb-4"},_hoisted_3={key:0,class:"bg-gray-50 rounded-lg p-4"},_hoisted_4={class:"flex items-center justify-between mb-4"},_hoisted_5={class:"space-y-3"},_hoisted_6={class:"flex items-center justify-between mb-4"},_hoisted_7={class:"space-y-3"},_sfc_main=defineComponent({__name:"AddressSection",props:{addresses:{}},emits:["update:addresses"],setup(__props,{emit:__emit}){const props=__props,emit=__emit;function createNewAddress(type){return{id:`temp-${Date.now()}-${Math.random()}`,type,line1:"",line2:"",city:"",county:"",postcode:"",country:"GB",isActive:!0,validFrom:null,validTo:null}}__name(createNewAddress,"createNewAddress");function addRegisteredAddress(){emit("update:addresses",{...props.addresses,registered:createNewAddress("registered")})}__name(addRegisteredAddress,"addRegisteredAddress");function updateRegisteredAddress(updated){emit("update:addresses",{...props.addresses,registered:updated})}__name(updateRegisteredAddress,"updateRegisteredAddress");function removeRegisteredAddress(){emit("update:addresses",{...props.addresses,registered:null})}__name(removeRegisteredAddress,"removeRegisteredAddress");function addAddress(type){const newAddress=createNewAddress(type),updated={...props.addresses};switch(type){case"trading":updated.trading=[...updated.trading,newAddress];break;case"billing":updated.billing=[...updated.billing,newAddress];break;case"historical":updated.historical=[...updated.historical,newAddress];break}emit("update:addresses",updated)}__name(addAddress,"addAddress");function updateAddress(type,index,updated){const newAddresses={...props.addresses};switch(type){case"trading":newAddresses.trading=[...newAddresses.trading],newAddresses.trading[index]=updated;break;case"billing":newAddresses.billing=[...newAddresses.billing],newAddresses.billing[index]=updated;break;case"historical":newAddresses.historical=[...newAddresses.historical],newAddresses.historical[index]=updated;break}emit("update:addresses",newAddresses)}__name(updateAddress,"updateAddress");function removeAddress(type,index){const updated={...props.addresses};switch(type){case"trading":updated.trading=updated.trading.filter((_,i)=>i!==index);break;case"billing":updated.billing=updated.billing.filter((_,i)=>i!==index);break;case"historical":updated.historical=updated.historical.filter((_,i)=>i!==index);break}emit("update:addresses",updated)}return __name(removeAddress,"removeAddress"),(_ctx,_cache)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_2,[_cache[3]||(_cache[3]=createBaseVNode("h4",{class:"text-base font-medium text-gray-900"},"Registered Address",-1)),_ctx.addresses.registered?(openBlock(),createBlock(unref(_sfc_main$1),{key:0,color:"success",variant:"soft"},{default:withCtx(()=>_cache[2]||(_cache[2]=[createTextVNode(" Active ",-1)])),_:1,__:[2]})):createCommentVNode("",!0)]),_ctx.addresses.registered?(openBlock(),createElementBlock("div",_hoisted_3,[createVNode(AddressForm,{address:_ctx.addresses.registered,onUpdate:updateRegisteredAddress,onRemove:removeRegisteredAddress},null,8,["address"])])):(openBlock(),createBlock(unref(_sfc_main$2),{key:1,variant:"soft",size:"sm",onClick:addRegisteredAddress},{default:withCtx(()=>_cache[4]||(_cache[4]=[createBaseVNode("span",{class:"flex items-center gap-2"},[createBaseVNode("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})]),createTextVNode(" Add Registered Address ")],-1)])),_:1,__:[4]}))]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4,[_cache[5]||(_cache[5]=createBaseVNode("h4",{class:"text-base font-medium text-gray-900"},"Trading Addresses",-1)),_ctx.addresses.trading.length?(openBlock(),createBlock(unref(_sfc_main$1),{key:0,color:"primary",variant:"soft"},{default:withCtx(()=>[createTextVNode(toDisplayString(_ctx.addresses.trading.length),1)]),_:1})):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.addresses.trading,(address,index)=>(openBlock(),createElementBlock("div",{key:index,class:"bg-gray-50 rounded-lg p-4"},[createVNode(AddressForm,{address,onUpdate:__name(updated=>updateAddress("trading",index,updated),"onUpdate"),onRemove:__name(()=>removeAddress("trading",index),"onRemove")},null,8,["address","onUpdate","onRemove"])]))),128)),createVNode(unref(_sfc_main$2),{variant:"soft",size:"sm",onClick:_cache[0]||(_cache[0]=()=>addAddress("trading"))},{default:withCtx(()=>_cache[6]||(_cache[6]=[createBaseVNode("span",{class:"flex items-center gap-2"},[createBaseVNode("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})]),createTextVNode(" Add Trading Address ")],-1)])),_:1,__:[6]})])]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_6,[_cache[7]||(_cache[7]=createBaseVNode("h4",{class:"text-base font-medium text-gray-900"},"Billing Addresses",-1)),_ctx.addresses.billing.length?(openBlock(),createBlock(unref(_sfc_main$1),{key:0,color:"primary",variant:"soft"},{default:withCtx(()=>[createTextVNode(toDisplayString(_ctx.addresses.billing.length),1)]),_:1})):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.addresses.billing,(address,index)=>(openBlock(),createElementBlock("div",{key:index,class:"bg-gray-50 rounded-lg p-4"},[createVNode(AddressForm,{address,onUpdate:__name(updated=>updateAddress("billing",index,updated),"onUpdate"),onRemove:__name(()=>removeAddress("billing",index),"onRemove")},null,8,["address","onUpdate","onRemove"])]))),128)),createVNode(unref(_sfc_main$2),{variant:"soft",size:"sm",onClick:_cache[1]||(_cache[1]=()=>addAddress("billing"))},{default:withCtx(()=>_cache[8]||(_cache[8]=[createBaseVNode("span",{class:"flex items-center gap-2"},[createBaseVNode("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})]),createTextVNode(" Add Billing Address ")],-1)])),_:1,__:[8]})])])]))}}),AddressSection=Object.assign(_sfc_main,{__name:"CompanyAddressSection"});export{AddressSection as default};
