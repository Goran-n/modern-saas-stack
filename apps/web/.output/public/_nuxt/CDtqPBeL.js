var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{b as toValue}from"./BRSJK7Xo.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const noop=__name(()=>{},"noop");function createFilterWrapper(filter,fn){function wrapper(...args){return new Promise((resolve,reject)=>{Promise.resolve(filter(()=>fn.apply(this,args),{fn,thisArg:this,args})).then(resolve).catch(reject)})}return __name(wrapper,"wrapper"),wrapper}__name(createFilterWrapper,"createFilterWrapper");function debounceFilter(ms,options={}){let timer,maxTimer,lastRejector=noop;const _clearTimeout=__name(timer2=>{clearTimeout(timer2),lastRejector(),lastRejector=noop},"_clearTimeout");let lastInvoker;return __name(invoke=>{const duration=toValue(ms),maxDuration=toValue(options.maxWait);return timer&&_clearTimeout(timer),duration<=0||maxDuration!==void 0&&maxDuration<=0?(maxTimer&&(_clearTimeout(maxTimer),maxTimer=void 0),Promise.resolve(invoke())):new Promise((resolve,reject)=>{lastRejector=options.rejectOnCancel?reject:resolve,lastInvoker=invoke,maxDuration&&!maxTimer&&(maxTimer=setTimeout(()=>{timer&&_clearTimeout(timer),maxTimer=void 0,resolve(lastInvoker())},maxDuration)),timer=setTimeout(()=>{maxTimer&&_clearTimeout(maxTimer),maxTimer=void 0,resolve(invoke())},duration)})},"filter")}__name(debounceFilter,"debounceFilter");function useDebounceFn(fn,ms=200,options={}){return createFilterWrapper(debounceFilter(ms,options),fn)}__name(useDebounceFn,"useDebounceFn");export{useDebounceFn as u};
